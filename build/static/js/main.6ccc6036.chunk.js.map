{"version":3,"sources":["components/Error.js","components/Footer.js","components/Note.js","services/Note.js","services/login.js","App.js","index.js"],"names":["Error","props","className","message","Footer","style","color","fontStyle","fontSize","Note","note","toggleImportant","deleteNote","buttonStyle","margin","label","important","listStyle","content","onClick","baseURL","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","update","id","put","delete","setToken","newToken","login","credentials","App","useState","notes","setNotes","newNote","setNewNotes","showAll","setShowAll","errorMessage","setErrorMessage","username","setUsername","password","setPassword","user","setUser","handleLogin","e","preventDefault","loginService","window","localStorage","setItem","JSON","stringify","noteService","setTimeout","addNote","newNoteToAdd","date","Date","toISOString","Math","random","returnedNotes","concat","handleNoteChange","target","value","noteToShow","filter","useEffect","initialNotes","loggedNoteAppUser","getItem","parse","onSubmit","type","name","onChange","removeItem","disabled","padding","map","noteToChange","find","changedNote","catch","error","handleToggleImportant","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6ccc6036.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Error = (props) => {\r\n    return (\r\n        <div className={props.message && 'errormsg_error'} >\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n    const footerStyle = {\r\n        color: 'green',\r\n        fontStyle: 'italic',\r\n        fontSize: 16\r\n      }\r\n      return (\r\n        <div style={footerStyle}>\r\n          <br />\r\n          <em>Note app, Department of Computer Science, University of Helsinki 2021</em>\r\n        </div>\r\n      )\r\n}\r\n\r\nexport default Footer\r\n\r\n","import React from 'react'\r\n\r\nconst Note = ({note, toggleImportant,deleteNote}) => {\r\n    const liStyle = {\r\n        listStyle: 'none',\r\n    }\r\n    const buttonStyle = {\r\n        margin: '5px'\r\n    }\r\n    const label = note.important ? 'mark no important' : 'mark important'\r\n    return (\r\n        <li style={liStyle}>\r\n            {note.content}\r\n            <button onClick={toggleImportant} style={buttonStyle}>{label}</button>\r\n            <button onClick={deleteNote} style={buttonStyle}>Delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Note\r\n","import axios from \"axios\"\r\n\r\nconst baseURL = \"/api/notes\"\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n    // const nonExisting = {\r\n    //   id: 10000,\r\n    //   content: 'This note is not saved to server',\r\n    //   date: '2019-05-30T17:30:31.098Z',\r\n    //   important: true,\r\n    // }\r\n    // return request.then(response => response.data.concat(nonExisting))\r\n  }\r\n  \r\n  const create = async (newObject) => {\r\n    const config = { \r\n      headers: { Authorization: token},\r\n    }\r\n    const response = await axios.post(baseURL, newObject, config)\r\n    return response.data\r\n  }\r\n  \r\n  const update = async (id, newObject) => {\r\n    const config = { \r\n      headers: { Authorization: token},\r\n    }\r\n    const response = await axios.put(`${baseURL}/${id}`, newObject, config)\r\n    return response.data\r\n  }\r\n\r\n  const deleteNote = async id => {\r\n    const config = {\r\n      headers: { Authorization: token },\r\n    }\r\n    const response = await axios.delete(`${baseURL}/${id}`,config)\r\n    return response.data\r\n  }\r\n  \r\n  export default { \r\n    getAll: getAll, \r\n    create: create, \r\n    update: update,\r\n    delete: deleteNote,\r\n    setToken\r\n  }","import axios from \"axios\"\r\n\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n    const response = await axios.post(baseUrl, credentials)\r\n    return response.data\r\n}\r\n\r\nexport default {\r\n    login\r\n}","//import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport Error from './components/Error'\nimport Footer from './components/Footer'\nimport Note from './components/Note'\nimport noteService from './services/Note'\nimport loginService from './services/login'\n\nconst App = () => {\n  const [notes, setNotes] = useState([])\n  const [newNote, setNewNotes] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [ errorMessage, setErrorMessage ] = useState('')\n  const [ username, setUsername] = useState('') \n  const [ password, setPassword] = useState('') \n  const [ user, setUser ] = useState(null)\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n    <div>\n      username\n      <input type=\"text\" value={username} name=\"username\" onChange={(e) => setUsername(e.target.value)}/>\n    </div>\n    <div>\n      passowrd\n      <input type=\"password\" value={password} name=\"password\" onChange={(e) => setPassword(e.target.value)}/>\n    </div>\n    <button type=\"submit\">Login</button>\n  </form>\n  )\n  \n  const noteForm = () => (\n    <form onSubmit={addNote}>\n        <input value={newNote} onChange={handleNoteChange}/>\n        <button type='submit' disabled={!newNote}>Add</button>\n      </form>\n  )\n  const handleLogin = async (e) => {\n    e.preventDefault()\n    try{\n      const user = await loginService.login({username, password})\n      window.localStorage.setItem('loggedNoteAppUser', JSON.stringify(user))\n      noteService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    }catch(ex){\n      setErrorMessage('wrong credentials')\n      setTimeout(() => {\n        setErrorMessage('')\n      }, 5000)\n    }\n  }\n\n  const handleLogout = () => {\n    window.localStorage.removeItem('loggedNoteAppUser')\n    setUser(null)\n  }\n\n  const addNote = (e) => {\n    e.preventDefault()\n    const newNoteToAdd = {\n      content: newNote,\n      date: new Date().toISOString(),\n      important: Math.random() < 0.5\n    }\n    //console.log('adddddddddddd', newNoteToAdd);\n    noteService\n    .create(newNoteToAdd)\n    .then( returnedNotes => {\n      //console.log('after addd', returnedNotes)\n      newNoteToAdd.id= returnedNotes.id\n      setNotes(notes.concat(newNoteToAdd))\n      setNewNotes('')\n    })\n  }\n\n  const handleNoteChange = (e) => {\n    e.preventDefault()\n    setNewNotes(e.target.value)\n  }\n\n  const handleShowChange = () => {\n    setShowAll(!showAll)\n  }\n\n  const handleToggleImportant = (id) => {\n    const noteToChange = notes.find( note => note.id === id)\n    //console.log('noteTOChange ',noteToChange)\n    const changedNote = { ...noteToChange, important: !noteToChange.important}\n    //console.log('changedNote ',changedNote)\n    noteService\n    .update(id, changedNote)\n    .then( returnedNotes => {\n     // console.log(\"updateeeeeeeeeeeee\",returnedNotes)\n      setNotes(notes.map( note => note.id !== id ? note :returnedNotes))\n    })\n    .catch(error => {\n      //console.log('errror',error.response.data.error)\n      setErrorMessage(error.response.data.error)\n      setTimeout(() => {\n        setErrorMessage('')\n      }, 5000)\n    })\n  }\n\n  const handleDeleteNote = (id) => {\n    //console.log('deleteeeeeee ', id);\n    noteService\n    .delete(id)\n    .then( returnedNotes => {\n      setNotes(notes.filter( note => note.id !== id))\n    })\n    .catch(error => {\n      //console.log('errror',error.response.data.error)\n      setErrorMessage(error.response.data.error)\n      setTimeout(() => {\n        setErrorMessage('')\n      }, 5000)\n    })\n  }\n\n  const noteToShow = showAll ? notes : notes.filter( note => note.important === true)\n\n  useEffect(() => {\n    noteService\n    .getAll()\n    .then( initialNotes => {\n      setNotes(initialNotes)\n    })\n  }, [])\n\n  useEffect(() => {\n    const loggedNoteAppUser = window.localStorage.getItem('loggedNoteAppUser')\n    if(loggedNoteAppUser){\n      const user = JSON.parse(loggedNoteAppUser)\n      setUser(user)\n      noteService.setToken(user.token)\n    }\n  }, [])\n  \n  return (\n    <div>\n      <h1>Notes</h1>\n      <Error message={errorMessage}/>\n\n      { user === null \n      ? loginForm() \n      : <div>\n        <p>{user.username} logged in  <button onClick={handleLogout}>Log out</button> </p> \n        {noteForm()}\n        <div>\n        <button onClick={handleShowChange}>Show {showAll ? 'All' : 'Important'}</button>\n\n        </div>\n        <ul style={{padding: '5px'}}>\n          {noteToShow.map(note => \n            <Note key={note.id} note={note} toggleImportant={ () => handleToggleImportant(note.id)} deleteNote={ () => handleDeleteNote(note.id)}/>\n          )}\n        </ul>\n        </div>}\n\n     \n      \n      <Footer />\n    </div>\n  )\n}\n\nexport default App\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}